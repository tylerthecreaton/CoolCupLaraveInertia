### à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¹à¸¥à¸°à¸—à¸£à¸±à¸žà¸¢à¸²à¸à¸£ (Refund & Resource Management)

**à¸ªà¸£à¸¸à¸›à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¹à¸¥à¸°à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¸à¸²à¸£à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¹‰à¸²à¸™à¸à¸²à¹à¸Ÿ**

---

#### 1. **à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸²à¸£à¸à¸”à¸„à¸·à¸™à¹€à¸‡à¸´à¸™**

-   **à¸›à¸¸à¹ˆà¸¡à¸„à¸·à¸™à¹€à¸‡à¸´à¸™**:
    -   à¸žà¸™à¸±à¸à¸‡à¸²à¸™/à¸£à¸°à¸šà¸šà¹€à¸¥à¸·à¸­à¸à¹€à¸«à¸•à¸¸à¸œà¸¥à¸à¸²à¸£à¸„à¸·à¸™à¹€à¸‡à¸´à¸™ (Dropdown Menu) à¹€à¸Šà¹ˆà¸™:
        -   à¸ªà¸±à¹ˆà¸‡à¸œà¸´à¸”à¹‚à¸”à¸¢à¸žà¸™à¸±à¸à¸‡à¸²à¸™
        -   à¸¥à¸¹à¸à¸„à¹‰à¸²à¸¢à¸à¹€à¸¥à¸´à¸
        -   à¸ªà¸´à¸™à¸„à¹‰à¸²à¸¡à¸µà¸›à¸±à¸à¸«à¸²
        -   à¸­à¸·à¹ˆà¸™ à¹† (à¸£à¸°à¸šà¸¸à¹ƒà¸™à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸)
    -   à¸£à¸°à¸šà¸¸ `Order ID` à¹€à¸žà¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ

---

#### 2. **à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ**

| à¸ªà¸–à¸²à¸™à¸°à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ                              | à¸„à¸·à¸™à¸ªà¸•à¹‡à¸­à¸à¹„à¸”à¹‰à¹„à¸«à¸¡? | à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£                           |
| ----------------------------------------- | --------------- | -------------------------------------- |
| **à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸£à¸´à¹ˆà¸¡à¸—à¸³** (Pending/Paid)          | âœ… à¹„à¸”à¹‰          | à¹€à¸žà¸´à¹ˆà¸¡à¸§à¸±à¸•à¸–à¸¸à¸”à¸´à¸š (à¸™à¸¡, à¸à¸²à¹à¸Ÿ) à¸à¸¥à¸±à¸šà¹€à¸‚à¹‰à¸²à¸ªà¸•à¹‡à¸­à¸ |
| **à¸à¸³à¸¥à¸±à¸‡à¸—à¸³/à¸—à¸³à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§** (Preparing/Ready) | âŒ à¹„à¸¡à¹ˆà¹„à¸”à¹‰       | à¸šà¸±à¸™à¸—à¸¶à¸à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸: "à¸§à¸±à¸•à¸–à¸¸à¸”à¸´à¸šà¸–à¸¹à¸à¹ƒà¸Šà¹‰à¹„à¸›à¹à¸¥à¹‰à¸§" |

---

#### 3. **à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¹ˆà¸§à¸™à¸¥à¸” (Discount)**

-   **à¸à¸£à¸“à¸µà¹ƒà¸Šà¹‰à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¹ƒà¸™à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ**:
    -   à¸„à¸·à¸™à¹‚à¸„à¸§à¸•à¹‰à¸²à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¹ƒà¸«à¹‰à¸£à¸°à¸šà¸š (à¸–à¹‰à¸²à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¹à¸šà¸šà¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§/à¸¡à¸µà¸ˆà¸³à¸™à¸§à¸™à¸ˆà¸³à¸à¸±à¸”)
    -   **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**:
        -   à¸«à¸²à¸à¹ƒà¸Šà¹‰à¹‚à¸„à¹‰à¸” "CAFE10" à¹ƒà¸«à¹‰à¹€à¸žà¸´à¹ˆà¸¡à¹‚à¸„à¸§à¸•à¹‰à¸²à¸à¸¥à¸±à¸š 1 à¸„à¸£à¸±à¹‰à¸‡
        -   à¸«à¸²à¸à¹€à¸›à¹‡à¸™à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¸™ "à¸‹à¸·à¹‰à¸­ 1 à¹à¸–à¸¡ 1" à¹ƒà¸«à¹‰à¸£à¸µà¹€à¸‹à¹‡à¸•à¸ªà¸–à¸²à¸™à¸°à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¸™

---

#### 4. **à¸ˆà¸±à¸”à¸à¸²à¸£ Point à¸‚à¸­à¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²**

-   **à¸à¸£à¸“à¸µà¸¥à¸¹à¸à¸„à¹‰à¸²à¹ƒà¸Šà¹‰ Point**:
    -   à¸„à¸·à¸™ Point à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹„à¸›à¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸•à¹‡à¸¡à¸ˆà¸³à¸™à¸§à¸™
    -   **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**:
        -   à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹ƒà¸Šà¹‰ 50 Point â†’ à¸„à¸·à¸™ 50 Point
-   **à¸à¸£à¸“à¸µà¹„à¸”à¹‰ Point à¸ˆà¸²à¸à¸à¸²à¸£à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­**:
    -   à¸«à¸±à¸ Point à¸—à¸µà¹ˆà¹€à¸žà¸´à¹ˆà¸¡à¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸²à¸­à¸­à¸ (à¸«à¸²à¸à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹ƒà¸Šà¹‰)
    -   **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**:
        -   à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹„à¸”à¹‰ 20 Point â†’ à¸«à¸±à¸à¸­à¸­à¸ 20 Point

---

### à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸£à¸°à¸šà¸§à¸™à¸à¸²à¸£à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

1. **à¹€à¸£à¸´à¹ˆà¸¡à¸„à¸·à¸™à¹€à¸‡à¸´à¸™**:
    - à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸à¸”à¸›à¸¸à¹ˆà¸¡ "à¸„à¸·à¸™à¹€à¸‡à¸´à¸™" â†’ à¹€à¸¥à¸·à¸­à¸à¹€à¸«à¸•à¸¸à¸œà¸¥ â†’ à¸£à¸°à¸šà¸¸ Order ID
2. **à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°**:
    - à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ "à¸à¸³à¸¥à¸±à¸‡à¸—à¸³" à¸«à¸£à¸·à¸­ "à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸—à¸³"
3. **à¸„à¸·à¸™à¸—à¸£à¸±à¸žà¸¢à¸²à¸à¸£ (à¸–à¹‰à¸²à¹€à¸›à¹‡à¸™à¹„à¸›à¹„à¸”à¹‰)**:
    - à¸«à¸²à¸à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸—à¸³: à¹€à¸žà¸´à¹ˆà¸¡à¸ªà¸•à¹‡à¸­à¸, à¸„à¸·à¸™à¸ªà¹ˆà¸§à¸™à¸¥à¸”/Point
    - à¸«à¸²à¸à¸—à¸³à¹à¸¥à¹‰à¸§: à¸šà¸±à¸™à¸—à¸¶à¸à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸ "à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸„à¸·à¸™à¸ªà¸•à¹‡à¸­à¸à¹„à¸”à¹‰"
4. **à¸„à¸·à¸™à¹€à¸‡à¸´à¸™**:
    - à¹€à¸‡à¸´à¸™à¸ªà¸”: à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¹ƒà¸™à¸£à¸°à¸šà¸š + à¸­à¸­à¸à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ
    - à¸šà¸±à¸•à¸£à¹€à¸„à¸£à¸”à¸´à¸•: à¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸œà¹ˆà¸²à¸™ API (à¹€à¸Šà¹ˆà¸™ Stripe)
5. **à¸šà¸±à¸™à¸—à¸¶à¸à¸›à¸£à¸°à¸§à¸±à¸•à¸´**:
    - à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸«à¸•à¸¸à¸œà¸¥, à¸œà¸¹à¹‰à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£, à¹€à¸§à¸¥à¸², à¹à¸¥à¸°à¸—à¸£à¸±à¸žà¸¢à¸²à¸à¸£à¸—à¸µà¹ˆà¸„à¸·à¸™

---

### à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™ Database

```sql
CREATE TABLE refunds (
    refund_id INT PRIMARY KEY,
    order_id INT,
    reason VARCHAR(255),
    is_restock_possible BOOLEAN,
    note TEXT,
    refunded_discount BOOLEAN,
    refunded_points INT,
    processed_by INT,
    created_at TIMESTAMP
);
```

---

### à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸à¸ªà¸³à¸„à¸±à¸

-   **à¸à¸²à¸£à¸„à¸·à¸™ Point/à¸ªà¹ˆà¸§à¸™à¸¥à¸”**: à¸•à¹‰à¸­à¸‡à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸¥à¸¹à¸à¸„à¹‰à¸²à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹ƒà¸Šà¹‰ Point à¸—à¸µà¹ˆà¸„à¸·à¸™à¹„à¸›à¹à¸¥à¹‰à¸§à¹ƒà¸™à¸à¸²à¸£à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­à¸­à¸·à¹ˆà¸™
-   **à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™**: à¸ªà¹ˆà¸‡à¸­à¸µà¹€à¸¡à¸¥à¸«à¸£à¸·à¸­ SMS à¹à¸ˆà¹‰à¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²à¸«à¸²à¸à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸œà¹ˆà¸²à¸™à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ
-   **à¸£à¸²à¸¢à¸‡à¸²à¸™**: à¸ªà¸£à¹‰à¸²à¸‡à¸£à¸²à¸¢à¸‡à¸²à¸™à¸›à¸£à¸°à¸ˆà¸³à¸§à¸±à¸™à¹€à¸žà¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¹à¸¥à¸°à¸§à¸±à¸•à¸–à¸¸à¸”à¸´à¸šà¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢

à¸£à¸°à¸šà¸šà¸™à¸µà¹‰à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸£à¹‰à¸²à¸™à¸à¸²à¹à¸Ÿà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¹‚à¸›à¸£à¹ˆà¸‡à¹ƒà¸ª à¹à¸¥à¸°à¸¥à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸ˆà¸²à¸à¸¡à¸™à¸¸à¸©à¸¢à¹Œ ðŸ‘â˜•


tinker command:

```bash
$permission = \Spatie\Permission\Models\Permission::create(['name' => 'manage settings']);

$admin = \Spatie\Permission\Models\Role::findByName('admin');
= Spatie\Permission\Models\Role {#5493
    id: 1,
    name: "admin",
    guard_name: "web",
    created_at: "2025-02-06 19:06:50",
    updated_at: "2025-02-06 19:06:50",
  }

> $admin->givePermissionTo(['manage settings']);
= Spatie\Permission\Models\Role {#5493
    id: 1,
    name: "admin",
    guard_name: "web",
    created_at: "2025-02-06 19:06:50",
    updated_at: "2025-02-06 19:06:50",
  }

```
